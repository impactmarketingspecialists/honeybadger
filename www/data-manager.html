<!DOCTYPE html>
<html>
<head>
	<title>IMS Data Source Management Console</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="css/data-manager-client.css">
</head>
<body>
	<header class="nav">
		<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="#">Honey Badger</a>
		    </div>

		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
		        <li class="nav-item active">
		        	<a href="#" data-toggle="page" data-target="dashboard">Dashboard</a>
		        </li>
		        <li class="nav-item dropdown">
		          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Manage <b class="caret"></b></a>
		          <ul class="dropdown-menu">
		            <li><a href="#sourceManager" data-toggle="page" data-target="sourceManager">Sources</a></li>
		            <li><a href="#extractorManager" data-toggle="page" data-target="extractorManager">Extractors</a></li>
		            <li><a href="#transformManager" data-toggle="page" data-target="transformManager">Transformers</a></li>
		            <li><a href="#loaderManager" data-toggle="page" data-target="loaderManager">Loaders</a></li>
		            <li class="divider"></li>
		            <li><a href="#" data-toggle="modal" data-target="#sourceEditor">New Data Source</a></li>
		            <li><a href="#" data-toggle="modal" data-target="#extractorWizard">New Data Extractor</a></li>
		            <li><a href="#" data-toggle="modal" data-target="#transformWizard">New Data Transformer</a></li>
		            <li><a href="#" data-toggle="modal" data-target="#loaderWizard">New Data Loader</a></li>
		            <li class="divider"></li>
		            <li><a href="#" data-toggle="modal" data-target="#sourceExport">Export Source List</a></li>
		            <li><a href="#">Data Utilities</a></li>
		          </ul>
		        </li>
		        <li class="nav-item dropdown">
		          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports <b class="caret"></b></a>
		          <ul class="dropdown-menu">
		            <li><a href="#">Dashboard</a></li>
		            <li><a href="#" data-toggle="modal" data-target="#open" onclick="openModal();">Custom Reports</a></li>
		            <li><a href="#">Export Report</a></li>
		            <li class="divider"></li>
		            <li><a href="#">System Status</a></li>
		          </ul>
		        </li>
		        <li class="nav-item">
		        	<a href="#">Monitor</a>
		        </li>
		      </ul>
		      <form class="navbar-form navbar-right" role="search">
		        <div class="form-group">
		          <input type="text" class="form-control" placeholder="Source Search">
		        </div>
		        <button type="submit" class="btn btn-default">Submit</button>
		      </form>
		    </div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
		</nav>
	</header>
	<section id="wrap">
		<div id="body" class="container-fluid">
			<header>
				<h1 id="bodyTitle">IMS Data <small id="bodySubTitle">source management console</small></h1>
			</header>
			<article id="bodyContent">
				<div id="dashboard" class="row">
					<div class="col-md-6">
						<h2>Active</h2>
						<table id="activeSources" class="table table-striped table-hover table-condensed">
						<thead>
							<tr><th>Name</th><th>Type</th><th>Active Since</th></tr>
						</thead>
						<tbody>
						</tbody>
						</table>
					</div>
					<div class="col-md-6">
						<h2>Inactive</h2>
						<table id="inactiveSources" class="table table-striped table-hover table-condensed">
						<thead>
							<tr><th>Name</th><th>Type</th><th>InActive Since</th></tr>
						</thead>
						<tbody>
						</tbody>
						</table>
					</div>
				</div>
				<div id="sourceManager">
					<h2>Sources</h2>
					<div class="row">
						<div class="col-md-12">
							<div class="btn-toolbar" role="toolbar">
								<div class="btn-group">
									<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#sourceEditor">New Data Source</button>
								</div>
								<div class="btn-group">
									<button type="button" class="btn btn-default">Activate</button>
									<button type="button" class="btn btn-default">Disable</button>
									<button type="button" class="btn btn-default">Delete</button>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<table id="sourceList" class="table table-striped table-hover table-condensed">
							<thead>
								<tr><th>Name</th><th>Type</th><th>Status</th></tr>
							</thead>
							<tbody>
							</tbody>
							</table>
						</div>
					</div>
				</div>
				<div id="extractorManager">
					<h2>Extractors</h2>
					<div class="row">
						<div class="col-md-12">
							<div class="btn-toolbar" role="toolbar">
								<div class="btn-group">
									<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#extractorWizard">New Extractor</button>
								</div>
								<div class="btn-group">
									<button type="button" class="btn btn-default">Activate</button>
									<button type="button" class="btn btn-default">Disable</button>
									<button type="button" class="btn btn-default">Delete</button>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<table id="extractorList" class="table table-striped table-hover table-condensed">
							<thead>
								<tr><th>Name</th><th>Type</th><th>Status</th></tr>
							</thead>
							<tbody>
							</tbody>
							</table>
						</div>
					</div>
				</div>
				<div id="transformManager">
					<h2>Transformers</h2>
					<div class="row">
						<div class="col-md-12">
							<div class="btn-toolbar" role="toolbar">
								<div class="btn-group">
									<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#transformWizard">New Transformer</button>
								</div>
								<div class="btn-group">
									<button type="button" class="btn btn-default">Activate</button>
									<button type="button" class="btn btn-default">Disable</button>
									<button type="button" class="btn btn-default">Delete</button>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<table id="transformerList" class="table table-striped table-hover table-condensed">
							<thead>
								<tr><th>Name</th><th>Type</th><th>Status</th></tr>
							</thead>
							<tbody>
							</tbody>
							</table>
						</div>
					</div>
				</div>
				<div id="loaderManager">
					<h2>Loaders</h2>
					<div class="row">
						<div class="col-md-12">
							<div class="btn-toolbar" role="toolbar">
								<div class="btn-group">
									<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#loaderWizard">New Loader</button>
								</div>
								<div class="btn-group">
									<button type="button" class="btn btn-default">Activate</button>
									<button type="button" class="btn btn-default">Disable</button>
									<button type="button" class="btn btn-default">Delete</button>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<table id="loaderList" class="table table-striped table-hover table-condensed">
							<thead>
								<tr><th>Name</th><th>Type</th><th>Status</th></tr>
							</thead>
							<tbody>
							</tbody>
							</table>
						</div>
					</div>
				</div>
			</article>
		</div>
	</section>
	<footer>
		<div id="footer" class="container-fluid">
			<div id="alerts" class="col-md-11"></div>
			<div id="connection" class="col-md-1" class="alert"><span class="status">Disconnected</span></div>
		</div>		
	</footer>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="js/data-manager-client.js"></script>

	<div class="modal fade" id="sourceEditor" tabindex="-1" role="dialog" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Source Editor</h4>
	      </div>
	      <div class="modal-body">
			<form class="form" role="form" id="sourceEditorForm">
				<fieldset>
					<legend>Create a new data source</legend>
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<label for="sourcename">Source Name</label>
								<input type="text" class="form-control" placeholder="MLS Name" name="sourcename" id="sourcename"/>
							</div>
						</div>
						<div class="col-md-6">						
							<div class="form-group">
								<label for="sourcetype">Source Type</label>
								<select class="form-control" id="sourcetype" name="sourcetype">
									<option value="RETS">RETS</option>
									<option value="FTP">FTP</option>
									<option value="SOAP">SOAP</option>
									<option value="REST">REST</option>
									<option value="XML">XML</option>
								</select>
							</div>

						</div>
					</div>
					<div class="row" id="sourceTypeOptions">
						<div class="col-md-12">
							<div class="form-group option-group" id="source_RETS">
								<h4>RETS Authentication Info</h4>
								<div class="row form-group">
									<div class="col-md-12">
										<label for="sourceuri">Login URL</label>
										<input type="text" class="form-control" placeholder="https://rets.server.com:3934/auth/Login.aspx" name="sourceuri" id="sourceuri"/>
									</div>
								</div>
								<div class="row form-group">
									<div class="col-md-6">
										<label for="sourceuser">Username</label>
										<input type="text" class="form-control" placeholder="CARETSIMPACT" name="sourceuser" id="sourceuser"/>
									</div>
									<div class="col-md-6">
										<label for="sourcepassword">Password</label>
										<input type="password" class="form-control" placeholder="CARETSIMPACT" name="sourcepassword" id="sourcepassword"/>
									</div>
								</div>
								<div class="row form-group">
									<div class="col-md-6">
										<label for="sourceua">User-Agent</label>
										<input type="text" class="form-control" placeholder="RETS-1.0" name="sourceua" id="sourceua"/>
									</div>
									<div class="col-md-6">
										<label for="sourceuapw">User-Agent Password</label>
										<input type="password" class="form-control" placeholder="IMS-1.0" name="sourceuapw" id="sourceuapw"/>
									</div>
								</div>
							</div>
							<div class="form-group option-group" id="source_FTP">
								<h4>FTP Source Options</h4>
								<div class="row form-group">
									<div class="col-md-12">
										<label for="ftphost">FTP Host</label>
										<input type="text" class="form-control" placeholder="ftp.hosts.com" name="ftphost" id="ftphost"/>
									</div>
								</div>
								<div class="row form-group">
									<div class="col-md-6">
										<label for="ftpuser">Username</label>
										<input type="text" class="form-control" placeholder="CARETSIMPACT" name="ftpuser" id="ftpuser"/>
									</div>
									<div class="col-md-6">
										<label for="ftpauth">Password</label>
										<input type="password" class="form-control" placeholder="CARETSIMPACT" name="ftpauth" id="ftpauth"/>
									</div>
								</div>
							</div>							
							<div class="row form-group">
								<div class="col-md-12">
									<button id="validateBtn" tabindex="-1" type="button" class="btn btn-primary" onclick="DataManager.source.validate();">
										Validate Connection <span id="sourceValidationStatus" class="glyphicon"></span>
									</button>
								</div>
							</div>
						</div>
					</div>
				</fieldset>
			</form>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
	        <button id="sourceEditorSave" type="button" class="btn btn-primary" onclick="DataManager.source.save()" disabled="disabled">Save</button>
	      </div>
	    </div>
	  </div>
	</div>

	<div class="modal fade" data-backdrop="static" data-keyboard="false" id="extractorWizard" tabindex="-1" role="dialog" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="extractorWizardTitle">Extractor Wizard</h4>
	      </div>
	      <div class="modal-body wizard">
	      	<div class="navigator">
	      		<strong>Steps:</strong> 
	      		<ul class="steps">
	      			<li class="step bg-primary">Basic Setup</li>
	      			<li class="step">Source Details</li>
	      			<li class="step">Test Extraction</li>
	      		</ul>
	      	</div>
	      	<section id="ext-step-1" class="step active">
				<h4>Basic Setup</h4>
				<div class="form-group">
					<label for="extractorName">Extractor Name</label>
					<input type="text" class="form-control" placeholder="My Extractor" name="extractorName" id="extractorName"/>
				</div>
				<div class="form-group">
					<label class="control-label" for="ext-source-select">Data Source</label> &nbsp;
					<select id="ext-source-select" class="form-control">
					</select>
				</div>
				<div class="source-options" id="ext-ftp-options">
					<div class="form-group">
						<label for="ftpRootPath">FTP Base Path</label>
						<input type="text" class="form-control" placeholder="/data/" name="ftpRootPath" id="ftpRootPath"/>
					</div>
						<label for="ftpFileName">FTP Target File</label><br>
					<div class="row">
						<div class="col-xs-6">
							<input type="text" class="form-control" placeholder="data_dump.csv" name="ftpFileName" id="ftpFileName"/> 
						</div>
						<div class="col-xs-4">
	        				<button type="button" class="btn btn-primary" onclick="DataManager.ftpBrowse()">Browse</button>
	        			</div>
					</div>
					<div id="ext-ftp-browser">
						<ul class="files">
						</ul>
					</div>
				</div>
	      	</section>
	      	<section id="ext-step-2" class="step">
				<h4>Source Details</h4>
				<div class="form-inline form-group">
					<label class="control-label" for="ext-source-select">Data Format</label> &nbsp;
					<select class="form-control" name="ext-data-format" id="ext-data-format">
						<option value="delimited-text">Delimited Text (CSV...)</option>
						<option value="json">JSON</option>
						<option value="xml">XML</option>
						<option value="excel">Excel (XLS...)</option>
					</select>
				</div>
				<div class="form-group">
					<label for="ext-unarchive">Data in Archive</label>
					<fieldset class="checkbox inline-fieldset" id="ext-archive-opts">
						<label><input type="radio" name="ext-archive-format" value="false" checked/> N/A</label> &nbsp;
						<label><input type="radio" name="ext-archive-format" value="zip"/> .zip</label> &nbsp;
						<label><input type="radio" name="ext-archive-format" value="tar"/> .tar</label> &nbsp;
						<label><input type="radio" name="ext-archive-format" value="gzip"/> .tar.gz</label>
					</fieldset>
				</div>
				<div class="form-group" id="ext-delimited-text-opts">
					<label>Text Deliniator</label>
					<fieldset class="checkbox inline-fieldset">
						<label><input type="radio" name="ext-text-format" value="csv" checked/> , Comma</label> &nbsp;
						<label><input type="radio" name="ext-text-format" value="tsv"/> \t Tab</label> &nbsp;
						<label><input type="radio" name="ext-text-format" value="pipe"/> | Pipe</label>
					</fieldset>					
				</div>
	      	</section>
	      	<section id="ext-step-3" class="step">
				<h4>Test Extraction</h4>
				<div class="form-group">
					<button type="button" class="btn btn-primary" id="ext-test">Run Test</button>
					<button type="button" class="btn btn-default" id="ext-test-clear">Clear Log</button>
				</div>
				<h5>Extraction Log:</h5>
				<div class="well">
					<div class="body" id="extraction-log-body"></div>
				</div>
				<div id="extraction-result" class="wizard-result"></div>
				<!-- <div class="row form-group">
					<div class="col-md-6">
						<label for="ftpuser">Username</label>
						<input type="text" class="form-control" placeholder="CARETSIMPACT" name="ftpuser" id="ftpuser"/>
					</div>
					<div class="col-md-6">
						<label for="ftpauth">Password</label>
						<input type="password" class="form-control" placeholder="CARETSIMPACT" name="ftpauth" id="ftpauth"/>
					</div>
				</div> -->
	      	</section>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
	        <button id="extractorWizardBack" type="button" class="btn btn-primary" disabled="disabled">Back</button>
	        <button id="extractorWizardNext" type="button" class="btn btn-primary">Next</button>
	      </div>
	    </div>
	  </div>
	</div>

	<div class="modal fade" data-backdrop="static" data-keyboard="false" id="transformWizard" tabindex="-1" role="dialog" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="transformWizardTitle">Transformer Wizard</h4>
	      </div>
	      <div class="modal-body wizard">
	      	<div class="navigator">
	      		<strong>Steps:</strong> 
	      		<ul class="steps">
	      			<li class="step bg-primary">Basic Setup</li>
	      			<li class="step">Transformer Details</li>
	      			<li class="step">Test Transformer</li>
	      		</ul>
	      	</div>
	      	<section id="trn-step-1" class="step active">
				<h4>Basic Setup</h4>
				<div class="form-group">
					<label for="transformerName">Transformer Name</label>
					<input type="text" class="form-control" placeholder="BHHS Normalizer" name="transformerName" id="transformerName"/>
				</div>
				<div class="form-group">
					<label class="control-label" for="trn-source-select">Data Extractor</label> &nbsp;
					<select id="trn-source-select" class="form-control">
					</select>
				</div>
	      	</section>
	      	<section id="trn-step-2" class="step">
				<h4>Transformer Details</h4>
				<div class="form-inline form-group">
					<label class="control-label" for="trn-source-select">Data Format</label> &nbsp;
					<select class="form-control" name="trn-data-format" id="trn-data-format">
						<option value="delimited-text">Delimited Text (CSV...)</option>
						<option value="json">JSON</option>
						<option value="xml">XML</option>
						<option value="excel">Excel (XLS...)</option>
					</select>
				</div>
	      	</section>
	      	<section id="trn-step-3" class="step">
				<h4>Test Extraction</h4>
				<div class="form-group">
					<button type="button" class="btn btn-primary" id="trn-test">Run Test</button>
					<button type="button" class="btn btn-default" id="trn-test-clear">Clear Log</button>
				</div>
				<h5>Transformer Log:</h5>
				<div class="well">
					<div class="body" id="transformer-log-body"></div>
				</div>
				<div id="transformer-result" class="wizard-result"></div>
	      	</section>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
	        <button id="transformWizardBack" type="button" class="btn btn-primary" disabled="disabled">Back</button>
	        <button id="transformWizardNext" type="button" class="btn btn-primary">Next</button>
	      </div>
	    </div>
	  </div>
	</div>

	<div class="modal fade" data-backdrop="static" data-keyboard="false" id="loaderWizard" tabindex="-1" role="dialog" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="loaderWizardTitle">Loader Wizard</h4>
	      </div>
	      <div class="modal-body wizard">
	      	<div class="navigator">
	      		<strong>Steps:</strong> 
	      		<ul class="steps">
	      			<li class="step bg-primary">Basic Setup</li>
	      			<li class="step">Loader Details</li>
	      			<li class="step">Test Loader</li>
	      		</ul>
	      	</div>
	      	<section id="ldr-step-1" class="step active">
				<h4>Basic Setup</h4>
				<div class="form-group">
					<label for="loaderName">Loader Name</label>
					<input type="text" class="form-control" placeholder="BHHS Normalizer" name="loaderName" id="loaderName"/>
				</div>
				<div class="form-group">
					<label class="control-label" for="ldr-source-select">Data Extractor</label> &nbsp;
					<select id="ldr-source-select" class="form-control">
					</select>
				</div>
	      	</section>
	      	<section id="ldr-step-2" class="step">
				<h4>Transformer Details</h4>
				<div class="form-inline form-group">
					<label class="control-label" for="ldr-source-select">Data Format</label> &nbsp;
					<select class="form-control" name="ldr-data-format" id="ldr-data-format">
						<option value="delimited-text">Delimited Text (CSV...)</option>
						<option value="json">JSON</option>
						<option value="xml">XML</option>
						<option value="excel">Excel (XLS...)</option>
					</select>
				</div>
	      	</section>
	      	<section id="ldr-step-3" class="step">
				<h4>Test Extraction</h4>
				<div class="form-group">
					<button type="button" class="btn btn-primary" id="ldr-test">Run Test</button>
					<button type="button" class="btn btn-default" id="ldr-test-clear">Clear Log</button>
				</div>
				<h5>Loader Log:</h5>
				<div class="well">
					<div class="body" id="loader-log-body"></div>
				</div>
				<div id="loader-result" class="wizard-result"></div>
	      	</section>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
	        <button id="loaderWizardBack" type="button" class="btn btn-primary" disabled="disabled">Back</button>
	        <button id="loaderWizardNext" type="button" class="btn btn-primary">Next</button>
	      </div>
	    </div>
	  </div>
	</div>


	<div class="modal fade" id="sourceExport" tabindex="-1" role="dialog" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Export Source List</h4>
	      </div>
	      <div class="modal-body">
	      	<div class="well" style="max-width: 400px; margin: 0 auto">
		        <h4>Preview</h4>
				<div id="preview"></div>
	      	</div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>
	  </div>
	</div>

</body>
</html>